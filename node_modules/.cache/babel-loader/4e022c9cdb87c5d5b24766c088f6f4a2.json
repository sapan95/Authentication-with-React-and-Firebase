{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\Projects\\\\fb-google auth\\\\src\\\\components\\\\Auth\\\\SocialLogin.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { facebookProvider, googleProvider } from '../../firebase_config/authMethods';\nimport SocialMediaAuth from '../../service/SocialMediaAuth';\nimport { useDispatch } from \"react-redux\";\nimport { authAction } from \"../../store/auth\";\nimport { useHistory } from 'react-router';\nimport classes from './SocialLogin.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SocialLogin() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const loginHandler = async provider => {\n    const res = await SocialMediaAuth(provider);\n    console.log(res);\n\n    if (res.user) {\n      const expirationTime = new Date(new Date().getTime() + 3600000);\n      dispatch(authAction.login({\n        token: res.user.refreshToken,\n        expTime: expirationTime.toISOString()\n      }));\n      history.replace('/');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: `${classes.loginBtn} ${classes.loginBtn_facebook}`,\n      onClick: () => loginHandler(facebookProvider),\n      children: \"Facebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      className: `${classes.loginBtn} ${classes.loginBtn_google}`,\n      onClick: () => loginHandler(googleProvider),\n      children: \"Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SocialLogin, \"ztFVC0/0rI8de3REyGzb7ruuLNE=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = SocialLogin;\nexport default SocialLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"SocialLogin\");","map":{"version":3,"sources":["E:/React/Projects/fb-google auth/src/components/Auth/SocialLogin.js"],"names":["React","facebookProvider","googleProvider","SocialMediaAuth","useDispatch","authAction","useHistory","classes","SocialLogin","history","dispatch","loginHandler","provider","res","console","log","user","expirationTime","Date","getTime","login","token","refreshToken","expTime","toISOString","replace","loginBtn","loginBtn_facebook","loginBtn_google"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAiD,mCAAjD;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,cAA3B;AACA,OAAOC,OAAP,MAAoB,0BAApB;;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AACnB,QAAMC,OAAO,GAAGH,UAAU,EAA1B;AACA,QAAMI,QAAQ,GAAGN,WAAW,EAA5B;;AACA,QAAMO,YAAY,GAAG,MAAMC,QAAN,IAAkB;AACnC,UAAMC,GAAG,GAAG,MAAMV,eAAe,CAACS,QAAD,CAAjC;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAGA,GAAG,CAACG,IAAP,EAAY;AACR,YAAMC,cAAc,GAAG,IAAIC,IAAJ,CACnB,IAAIA,IAAJ,GAAWC,OAAX,KAAuB,OADJ,CAAvB;AAGAT,MAAAA,QAAQ,CAACL,UAAU,CAACe,KAAX,CAAiB;AAACC,QAAAA,KAAK,EAAER,GAAG,CAACG,IAAJ,CAASM,YAAjB;AAA+BC,QAAAA,OAAO,EAAEN,cAAc,CAACO,WAAf;AAAxC,OAAjB,CAAD,CAAR;AACAf,MAAAA,OAAO,CAACgB,OAAR,CAAgB,GAAhB;AACH;AAEJ,GAXD;;AAaA,sBACI;AAAA,4BACI;AAAQ,MAAA,IAAI,EAAG,QAAf;AAAwB,MAAA,SAAS,EAAK,GAAElB,OAAO,CAACmB,QAAS,IAAGnB,OAAO,CAACoB,iBAAkB,EAAtF;AAAyF,MAAA,OAAO,EAAI,MAAMhB,YAAY,CAACV,gBAAD,CAAtH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAQ,MAAA,IAAI,EAAG,QAAf;AAAwB,MAAA,SAAS,EAAK,GAAEM,OAAO,CAACmB,QAAS,IAAGnB,OAAO,CAACqB,eAAgB,EAApF;AAAuF,MAAA,OAAO,EAAI,MAAMjB,YAAY,CAACT,cAAD,CAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GAtBQM,W;UACWF,U,EACCF,W;;;KAFZI,W;AAwBT,eAAeA,WAAf","sourcesContent":["import React from 'react'\r\nimport { facebookProvider, googleProvider } from '../../firebase_config/authMethods';\r\nimport SocialMediaAuth from '../../service/SocialMediaAuth';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { authAction } from \"../../store/auth\";\r\nimport { useHistory } from 'react-router';\r\nimport classes from './SocialLogin.module.css';\r\n\r\nfunction SocialLogin() {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const loginHandler = async provider => {\r\n        const res = await SocialMediaAuth(provider);\r\n        console.log(res);\r\n        if(res.user){\r\n            const expirationTime = new Date(\r\n                new Date().getTime() + 3600000\r\n            );\r\n            dispatch(authAction.login({token: res.user.refreshToken, expTime: expirationTime.toISOString()}));\r\n            history.replace('/');\r\n        }\r\n        \r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <button type = 'button' className = {`${classes.loginBtn} ${classes.loginBtn_facebook}`} onClick = {() => loginHandler(facebookProvider)}>Facebook</button>\r\n            <button type = 'button' className = {`${classes.loginBtn} ${classes.loginBtn_google}`} onClick = {() => loginHandler(googleProvider)}>Google</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SocialLogin;\r\n"]},"metadata":{},"sourceType":"module"}