{"ast":null,"code":"var _jsxFileName = \"E:\\\\React\\\\Projects\\\\fb-google auth\\\\src\\\\components\\\\Auth\\\\SocialLogin.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { facebookProvider, googleProvider } from '../../firebase_config/authMethods';\nimport SocialMediaAuth from '../../service/SocialMediaAuth';\nimport { useDispatch } from \"react-redux\";\nimport { authAction } from \"../../store/auth\";\nimport { useHistory } from 'react-router';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SocialLogin() {\n  _s();\n\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  const loginHandler = async provider => {\n    const res = await SocialMediaAuth(provider);\n    debugger;\n    console.log(res);\n\n    if (res.user) {\n      const expirationTime = new Date(new Date().getTime() + 3600000);\n      dispatch(authAction.login(res.user.refreshToken, expirationTime.toISOString()));\n      history.replace('/');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => loginHandler(facebookProvider),\n      children: \"Facebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => loginHandler(googleProvider),\n      children: \"Google\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 26,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SocialLogin, \"ztFVC0/0rI8de3REyGzb7ruuLNE=\", false, function () {\n  return [useHistory, useDispatch];\n});\n\n_c = SocialLogin;\nexport default SocialLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"SocialLogin\");","map":{"version":3,"sources":["E:/React/Projects/fb-google auth/src/components/Auth/SocialLogin.js"],"names":["React","facebookProvider","googleProvider","SocialMediaAuth","useDispatch","authAction","useHistory","SocialLogin","history","dispatch","loginHandler","provider","res","console","log","user","expirationTime","Date","getTime","login","refreshToken","toISOString","replace"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,gBAAT,EAA2BC,cAA3B,QAAiD,mCAAjD;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,SAASC,UAAT,QAA2B,cAA3B;;;AAEA,SAASC,WAAT,GAAuB;AAAA;;AACnB,QAAMC,OAAO,GAAGF,UAAU,EAA1B;AACA,QAAMG,QAAQ,GAAGL,WAAW,EAA5B;;AACA,QAAMM,YAAY,GAAG,MAAMC,QAAN,IAAkB;AACnC,UAAMC,GAAG,GAAG,MAAMT,eAAe,CAACQ,QAAD,CAAjC;AACA;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;;AACA,QAAGA,GAAG,CAACG,IAAP,EAAY;AACR,YAAMC,cAAc,GAAG,IAAIC,IAAJ,CACnB,IAAIA,IAAJ,GAAWC,OAAX,KAAuB,OADJ,CAAvB;AAGAT,MAAAA,QAAQ,CAACJ,UAAU,CAACc,KAAX,CAAiBP,GAAG,CAACG,IAAJ,CAASK,YAA1B,EAAwCJ,cAAc,CAACK,WAAf,EAAxC,CAAD,CAAR;AACAb,MAAAA,OAAO,CAACc,OAAR,CAAgB,GAAhB;AACH;AAEJ,GAZD;;AAcA,sBACI;AAAA,4BACI;AAAQ,MAAA,IAAI,EAAG,QAAf;AAAwB,MAAA,OAAO,EAAI,MAAMZ,YAAY,CAACT,gBAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAQ,MAAA,IAAI,EAAG,QAAf;AAAwB,MAAA,OAAO,EAAI,MAAMS,YAAY,CAACR,cAAD,CAArD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAMH;;GAvBQK,W;UACWD,U,EACCF,W;;;KAFZG,W;AAyBT,eAAeA,WAAf","sourcesContent":["import React from 'react'\r\nimport { facebookProvider, googleProvider } from '../../firebase_config/authMethods';\r\nimport SocialMediaAuth from '../../service/SocialMediaAuth';\r\nimport { useDispatch } from \"react-redux\";\r\nimport { authAction } from \"../../store/auth\";\r\nimport { useHistory } from 'react-router';\r\n\r\nfunction SocialLogin() {\r\n    const history = useHistory();\r\n    const dispatch = useDispatch();\r\n    const loginHandler = async provider => {\r\n        const res = await SocialMediaAuth(provider);\r\n        debugger;\r\n        console.log(res);\r\n        if(res.user){\r\n            const expirationTime = new Date(\r\n                new Date().getTime() + 3600000\r\n            );\r\n            dispatch(authAction.login(res.user.refreshToken, expirationTime.toISOString()));\r\n            history.replace('/');\r\n        }\r\n        \r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            <button type = 'button' onClick = {() => loginHandler(facebookProvider)}>Facebook</button>\r\n            <button type = 'button' onClick = {() => loginHandler(googleProvider)}>Google</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SocialLogin;\r\n"]},"metadata":{},"sourceType":"module"}